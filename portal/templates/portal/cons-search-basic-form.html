{% load i18n %}
{% load static %}
{% load taginos %}

<div class="modal fade" id="searchModal" tabindex="-1" aria-labelledby="searchModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
      <div class="modal-content">
        <div class="modal-header">
          <h1 class="modal-title fs-5" id="searchModalLabel">{% translate 'Tenders Search' %}</h1>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
            <form action="{% url 'portal_cons_list' %}">
                <div class="row g-2 mb-2">
                    <div class="col-12 col-lg-6">
                        <div id="groupObject" class="input-group mt-2">
                            <span class="input-group-text small text-muted" id="objetSpan">{% translate 'Object' %}</span>
                            <input name="o" type="text" value="{% if qd.o %}{{ qd.o }}{% endif %}" class="form-control" id="objetInput" aria-describedby="objetSpan">
                        </div>
                    </div>
                    <div class="col-12 col-lg-6">
                        <div id="groupReference" class="input-group mt-2">
                            <span class="input-group-text small text-muted" id="refSpan">{% translate 'Reference' %}</span>
                            <input name="r" type="text" value="{% if qd.r %}{{ qd.r }}{% endif %}" class="form-control" id="refInput" aria-describedby="refSpan">
                        </div>
                    </div>
                </div>                

                <div class="d-flex align-items-center mt-1">
                    <hr class="flex-grow-1">
                </div>

                <div class="row g-2 mb-2">
                    <div class="col-12 col-lg-6">
                        <div id="groupResultsPerPAge" class="input-group mt-2">
                            <label class="input-group-text small text-muted" for="ippInput">{% translate 'Results per page' %}</label>
                            <select name="pp" class="form-select" id="ippInput">
                            <option value="10" {% if qd.pp == 10 %}selected{% endif %}>10</option>
                            <option value="20" {% if qd.pp == 20 %}selected{% endif %}>20</option>
                            <option value="25" {% if qd.pp == 25 %}selected{% endif %}>25</option>
                            <option value="50" {% if qd.pp == 50 %}selected{% endif %}>50</option>
                            <option value="100" {% if qd.pp == 100 %}selected{% endif %}>100</option>
                            </select>
                        </div>
                    </div>
                    <div class="col-12 col-lg-6">
                        <div id="groupOrderBy" class="input-group mt-2">
                            <label class="input-group-text small text-muted" for="orderInput">{% translate 'Order by' %}</label>
                            <select name="ob" class="form-select" id="orderInput">
                                <option value="DL" {% if qd.ob == 'DL' %}selected{% endif %}>{% translate 'Deadline' %} &#8599;</option>
                                <option value="-DL" {% if qd.ob == '-DL' %}selected{% endif %}>{% translate 'Deadline' %} &#8600;</option>
                                <option value="DP" {% if qd.ob == 'DP' %}selected{% endif %}>{% translate 'Published Date' %} &#8599;</option>
                                <option value="-DP" {% if qd.ob == '-DP' %}selected{% endif %}>{% translate 'Published Date' %} &#8600;</option>
                                <option value="TE" {% if qd.ob == 'TE' %}selected{% endif %}>{% translate 'Total Estimate' %} &#8599;</option>
                                <option value="-TE" {% if qd.ob == '-TE' %}selected{% endif %}>{% translate 'Total Estimate' %} &#8600;</option>
                                <option value="TC" {% if qd.ob == 'TC' %}selected{% endif %}>{% translate 'Temporary Caution' %} &#8599;</option>
                                <option value="-TC" {% if qd.ob == '-TC' %}selected{% endif %}>{% translate 'Temporary Caution' %} &#8600;</option>
                            </select>
                        </div>
                    </div>
                </div>

                <div class="row g-2 mb-2">
                    <div class="text-end py-2">
                        <!-- {% include 'portal/includes/section-title.html' with label='Search Results' %} -->
                        <button type="submit" class="btn btn-primary mt-2 px-3">{% translate 'Search' %}</button>
                        <a href="{% url 'portal_cons_list' %}" class="btn btn-outline-secondary mt-2 px-3">{% translate 'Reset' %}</a>
                        {% if not request.user.is_authenticated %}
                            <a href="{% url 'account_login' %}?next={% url 'portal_cons_list' %}" class="btn btn-outline-secondary mt-2 px-3">
                                <img class="mx-1" src="{% static 'img/lock.svg' %}" height="16">
                                {% translate 'Advanced' %}
                            </a>
                        {% endif %}
                    </div>
                </div>
            </form>
        </div>
      </div>
    </div>
  </div>